<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Try it Now! A bar chart</title>
		<script type="text/javascript" src="../d3/d3.v3.js"></script>
		<style type="text/css">
			.bar {
			};
		</style>
	</head>
	<body>
		<script type="text/javascript">
			
			var h = 200;
			var w = 500;
			var svg = d3.select('body')
				.append('svg')
				.attr('class', 'graph')
				.attr('height', h)
				.attr('width', w);

			var dataset = [ 5, 10, 13, 19, 21, 25, 22, 18, 15, 13,
							11, 12, 15, 20, 18, 17, 16, 18, 23, 25 ];

			var xOffset = 0;
			var xPadding = 2;

			var barScale = 4;
			var yOffset = 0;

      var barWidth = function (d) {
        return w / dataset.length - xPadding;
      };

      var barHeight = function (d) {
        return barScale * d;
      };

      var barX = function (d, i) {
        return i * (w / dataset.length);
      };

      var barY = function (d) {
        return h - barScale * d;
      };

			svg.selectAll('.bar')
				.data(dataset)
				.enter()
        .append('rect')
        .attr({
          class: 'bar',
          'x': function (d, i) { return barX(d, i); },
          'y': function (d) { return barY(d); },
          'width': function (d,i) { return barWidth(d, i); },
          'height': function (d) { return barHeight(d); },
          'fill': function (d) { return 'rgb(0, 0, ' + (d * 10) + ')'; }
        });

      var textHeight = 11;
      var textPadding = 3;

      svg.selectAll('text')
        .data(dataset)
        .enter()
        .append('text')
        .text(function (d) {
          return d;
          })
        .attr({
          'font-family': 'sans-serif',
          'font-size': textHeight + 'px',
          'fill': 'white',
          'text-anchor': 'middle',
          'x': function (d, i) { return barX(d, i) + barWidth(d) / 2; },
          'y': function (d) { return barY(d) + textHeight + textPadding; }
          });

			
		</script>
	</body>
</html>
